cmake_minimum_required(VERSION 2.6)

project(iow)

include_directories(.)

add_library(
  iow
  iow/logger/global_log.cpp
  iow/workflow/workflow.cpp
  iow/workflow/delayed_queue.cpp
  iow/workflow/asio_queue.cpp
  iow/workflow/bique.cpp
  iow/workflow/timer.cpp
  iow/workflow/task_manager.cpp
  iow/workflow/timer_manager_base.cpp
  iow/workflow/timer_manager.cpp
  iow/workflow/thread_pool_base.cpp
 # iow/jsonrpc/incoming/incoming_holder.cpp
 # iow/jsonrpc/outgoing/outgoing_holder.cpp
 # iow/jsonrpc/incoming/send_error.cpp
)

target_link_libraries(iow wjrpc ${Boost_LIBRARIES} )

if ( IOW_BUILD_TEST OR IOW_BUILD_ALL )
  if( IOW_BUILD_TEST )
    enable_testing()
    add_subdirectory(tests)
  endif() # IOW_BUILD_TEST
endif()

